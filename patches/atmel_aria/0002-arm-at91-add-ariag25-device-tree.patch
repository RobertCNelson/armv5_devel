From f0013f5e211c7189c4ff9c9478c622114bb6430d Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Wed, 31 Oct 2012 15:09:59 -0500
Subject: [PATCH 2/3] arm: at91: add ariag25 device tree

Signed-off-by: Douglas Gilbert <dgilbert@interlog.com>
Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/Makefile    |    1 +
 arch/arm/boot/dts/ariag25.dts |  103 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 104 insertions(+)
 create mode 100644 arch/arm/boot/dts/ariag25.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index f37cf9f..c7b86bf 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -1,6 +1,7 @@
 ifeq ($(CONFIG_OF),y)
 
 dtb-$(CONFIG_ARCH_AT91) += aks-cdu.dtb \
+	ariag25.dtb \
 	at91sam9263ek.dtb \
 	at91sam9g20ek_2mmc.dtb \
 	at91sam9g20ek.dtb \
diff --git a/arch/arm/boot/dts/ariag25.dts b/arch/arm/boot/dts/ariag25.dts
new file mode 100644
index 0000000..4275317
--- /dev/null
+++ b/arch/arm/boot/dts/ariag25.dts
@@ -0,0 +1,103 @@
+/*
+ * ariag25.dts - Device Tree file for Acme Systems Aria G25 (AT91SAM9G25 based)
+ *
+ */
+/dts-v1/;
+/include/ "at91sam9x5.dtsi"
+/include/ "at91sam9x5cm.dtsi"
+
+/ {
+	model = "Acme Systems Aria G25";
+	compatible = "atmel,at91sam9g25ek", "atmel,at91sam9x5ek", "atmel,at91sam9x5", "atmel,at91sam9";
+
+        aliases {
+                serial4 = &usart3;
+                serial5 = &usart4;
+                serial6 = &usart5;
+	};
+
+	chosen {
+		bootargs = "console=ttyS0,115200 root=/dev/mtdblock1 rw rootfstype=ubifs ubi.mtd=1 root=ubi0:rootfs";
+	};
+
+	ahb {
+		apb {
+			dbgu: serial@fffff200 {
+				status = "okay";
+			};
+
+			usart0: serial@f801c000 {
+				status = "okay";
+			};
+
+			usart1: serial@f8020000 {
+				status = "okay";
+			};
+
+			usart2: serial@f8024000 {
+				status = "okay";
+			};
+
+			usart3: serial@f8028000 {
+                                compatible = "atmel,at91sam9260-usart";
+                                reg = <0xf8028000 0x200>;
+                                interrupts = <8 4 5>;
+                                atmel,use-dma-rx;
+                                atmel,use-dma-tx;
+                                status = "okay";
+                        };
+
+			usart4: serial@f8040000 {
+                                compatible = "atmel,at91sam9260-usart";
+                                reg = <0xf8040000 0x200>;
+                                interrupts = <15 4 5>;
+                                status = "okay";
+                        };
+
+			usart5: serial@f8044000 {
+                                compatible = "atmel,at91sam9260-usart";
+                                reg = <0xf8044000 0x200>;
+                                interrupts = <16 4 5>;
+                                status = "okay";
+                        };
+
+			macb0: ethernet@f802c000 {
+				phy-mode = "rmii";
+				status = "okay";
+			};
+
+			i2c0: i2c@f8010000 {
+				status = "okay";
+			};
+
+			i2c1: i2c@f8014000 {
+				status = "okay";
+			};
+
+			i2c2: i2c@f8018000 {
+				status = "okay";
+			};
+
+			mmc0: mmc@f0008000 {
+				status = "okay";
+				slot@0 {
+					reg = <0>;
+					bus-width = <4>;
+				};
+			};
+
+		};
+
+		usb0: ohci@00600000 {
+			status = "okay";
+			num-ports = <2>;
+			atmel,vbus-gpio = <&pioD 19 1
+					   &pioD 20 1
+					  >;
+		};
+
+		usb1: ehci@00700000 {
+			status = "okay";
+		};
+	};
+};
-- 
1.7.10.4

